## 1.内部类的概念与分类
**内部类的分类：  
1、成员内部类：一个类定义在另一个类内部  
2、局部内部类(包含匿名内部类)：一个类定义在一个方法内部。**  
## 2.成员内部类的定义
```java
    //内部类定义格式
	修饰符 class 外部类名称{
		修饰符 class 内部类名称{
			...//
		}
		...
	}
```
**注意：内用外，随意访问（包括private修饰的内容），外用内，必须用内部类对象。**  
**编译生成的.class文件为：**  
- 外部类名.class  
- 外部类名$内部类名.class  

**注意：java中的标识符可以由字母、下划线、数字和$符号组成，但是不推荐使用$符号，这就是原因之一。**  
## 3.成员内部类的使用  
**使用成员内部类有两种方式**  
1. 间接方式：在外部类的方法当中使用内部类，然后main()方法调用内部类方法。  
2. 直接方式：外部类名称.内部类名称 对象名 = new 外部类名称().new 内部类名称();（其实就是外.内）  

## 4.内部类的同名变量访问

	//内部类使用外部同名变量的格式：  
	外部类名称.this.同名变量名;  
	//外部使用内部使用对象.的形式  
## 5.局部内部类定义
#### 1.局部内部类的概念
一个类定义在一个方法内部就叫局部内部类。只有当前方法可以使用它，出了这个方法就不可以使用了。  
#### 2.定义格式
```java	
	修饰符 class 外部类名称 {
		修饰符 返回值类型 外部方法名称(参数列表){
			修饰符 class 局部类名称{
				//...			
			}
		}
	}
```
#### 3.使用方式

只能调用外部方法，在外部方法中创建局部类对象并使用他，然后外部类对象调用这个外部成员方法，便可使用局部类的内容了。  

#### 4.定义一个类时权限修饰符的使用规则
1. 外部类：public/default  
2. 成员内部类：public/protected/default/private  
3. 局部内部类：什么都不写。并且与default还不同，因为default还能在本包中访问。  

## 6.局部内部类的final问题
**注意：局部内部类，如果希望访问所在方法的局部变量，那么这个变量必须是【有效final】的。**  

有效final的含义：可以不加final关键字，但是，这个局部变量只能向final变量一样赋一次值。  
不加final关键字是从JDK8开始的，之前的版本确实就是final的。  

**原因：**  
(1)new 出来的对象在堆内存中。  
(2)局部变量在栈内存中。  
(3)方法运行结束后，栈内存释放，此时变量值就不存在了。  
(4)但是new出来的局部类对象仍然存在，直到垃圾回收后消失。  

这就存在一个问题，如果局部变量变来变去的，new出来的对象就无法及时拷贝其值，而当其消失时，new出来的对象仍然需要使用它，这就产生了矛盾。总结来说就是对象的生命周期比局部变量的生命周期长导致了这个问题。  
## 7.匿名内部类及注意事项
#### 1.匿名内部类
如果接口的实现类，或者父类的子类，只需要使用唯一的一次，那么这种情况下，就可以省略该类的定义，而使用匿名内部类。  
```java
//匿名内部类定义方法
接口名称 对象名 = new 接口名称(){
	//覆盖重写所有抽象方法。相当于实现类中的内容
};
```
解决问题：为了使用接口，必须定义一个实现类，如果只是用一个实现类的对象的话，那么可以使用匿名内部类来实现。  
#### 2.匿名内部类注意事项
对格式进行解析：new 接口名称{}  
(1)new 代表创建对象的操作   
(2)接口名称就是匿名内部类要实现哪个接口  
(3){...} 这是匿名内部类的内容   
注意：  
(1)匿名内部类在创建对象时，只能创建一次。如果希望创建多个对象，而且类内容一样的话，那么可以使用单独定义的实现类。或者实现两遍完全一样的匿名内部类。    
(2)匿名对象，在调用方法的时候只能调用唯一一次，如果希望同一个对象调用多个方法，那么必须给对象取个名字。  
(3)匿名内部类是省略了【实现类/接口名称】，但是匿名对象省略了【对象名称】。二者不是一回事。  
## 8.类作为成员变量类型
成员变量不仅可以使用基本类型，还可以使用引用类型。  
## 9.接口作为成员变量类型
成员变量还可以使用接口的实现类对象，或者接口的匿名内部类对象，或者匿名内部类的匿名对象。  
## 10.接口作为方法的参数或
ArrayList实现了List接口。  
接口的实现类类型也可以可以作为函数的返回值对象。   
## 11.发红包案例：普通红包和手气红包

